<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.blog.mapper.BlogMapper">
  <!-- sql작성 -->
  <insert id="join">
    insert into blogmember(id,pwd,name,gender) VALUES(#{id},#{pwd},#{name},#{gender})
  </insert>
  
  <select id="login" resultType="String">
    select pwd from blogmember where id= #{id}
  </select>
  
  <select id="list" parameterType="java.util.HashMap" resultType="com.blog.VO.BlogBoard">
    select * from (select rownum rn,aa.* from
     (select * from board where title like '%'||#{word}||'%' order by num desc)aa) 
     where rn&gt;=${startRow} and rn&lt;=${endRow}
 <!--    <if test="word==null">
      (select * from board order by num desc)aa) where rn&gt;=#{startRow} and rn&lt;=#{endRow}
    </if>
    <if test="word!=null">
      (select * from board where title like '%'||#{word}||'%' order by num desc)aa) where rn&gt;=${startRow} and rn&lt;=${endRow}
    </if>   -->
  </select>
  
  <select id="getCount"  resultType="Integer">
    select count(*) from board  where title like '%'||#{word}||'%'
   <!--   <where>
      <if test="word!=null">
         title like '%'||#{word}||'%'
      </if>
    </where>  -->
  </select>
</mapper>